(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e){e.exports={resourceType:"Patient",identifier:[{system:"http://fhirtutorial.example/patient",value:"555555-555"}],active:!0,gender:"male",name:[{use:"usual",text:"Santa Claus",family:"Claus",given:["Santa"]},{use:"official",text:"Joulupukki",given:["Joulupukki"]}],address:[{use:"home",type:"physical",text:"Korvatunturi, 99999 Finland",line:["Korvatunturi"],postalCode:"99999",country:"Finland"}]}},33:function(e){e.exports={resourceType:"Appointment",status:"booked",reason:[{coding:[{system:"http://snomed.info/sct",code:"81531005"}],text:"Type 2 diabetes mellitus in obese"}]}},34:function(e){e.exports={resourceType:"Location",status:"active",kind:"instance",name:"Korvatunturi"}},35:function(e){e.exports={resourceType:"Practitioner",name:[{family:"Elf",prefix:["Master"],text:"Master Elf"}]}},36:function(e){e.exports={canvas:{width:640,height:320},routes:{100:[[100,100],[540,100],[540,220]],110:[[100,100],[540,100],[540,220]]}}},37:function(e,t,n){e.exports=n(72)},67:function(e,t,n){},70:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(12),l=n.n(i),c=n(8),o=n.n(c),s=n(11),u=n(3),p=n(4),h=n(6),m=n(5),f=n(7),d=n(14),v=n(13),b=n(9),E=n(30),C=n(31),y=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"renderInfoText",value:function(e){return e?r.a.createElement(b.c,null,e):null}},{key:"renderActionButton",value:function(e,t){return e?r.a.createElement(b.a,{className:"mt-1 btn-block",size:"lg",color:"primary",onClick:t},e):null}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.infoText,a=e.actionButtonText,i=e.onAction,l=e.children;return r.a.createElement("div",{className:"christmas-card"},r.a.createElement(b.b,{body:!0,className:"card text-white bg-secondary text-center"},r.a.createElement(b.d,null,t),this.renderInfoText(n),l,this.renderActionButton(a,i)))}}]),t}(a.Component),k=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){var e=n.props,t=e.hintLevel,a=e.hintTypes,r=e.onHintLevelChange,i=t+1,l=a.reduce(function(e,t,n){return e[t]=i>=n,e},{});r(i,l)},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.hintLevel,n=e.hintTypes.length-1,a=n-t,i=t>=n;return r.a.createElement("div",{className:"mb-4 text-center"},r.a.createElement(b.a,{className:"w-50",size:"sm",color:"info",onClick:this.handleClick,disabled:i},"Give me a hint!",r.a.createElement("span",{className:"badge badge-pill badge-primary float-right"},a)))}}]),t}(a.Component),N=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.baseUrl,n=e.urlSuffix,a=e.primaryText,i=e.isVisible?"visible":"invisible",l=n.includes("?")?"&":"?",c=a||n;return r.a.createElement("a",{className:"hint ".concat(i),target:"_blank",rel:"noopener noreferrer",href:"".concat(t,"/").concat(n).concat(l,"_format=json")},r.a.createElement("span",{className:"badge badge-info"},c))}}]),t}(a.Component),O="https://hapi.fhir.org/baseDstu3",g={Patient:"Patient",Practitioner:"Practitioner",Location:"Location",Appointment:"Appointment"},I="LOCATION_HINT",T="LOCATION_TEXT",j="PRACTITIONER_HINT",w="PRACTITIONER_VALUE",x="CUSTOMER_HINT",A="CUSTOMER_VALUE",H="APPOINTMENT_HINT",_="REASON_HINT",L=["NO_HINT",H,I,T,j,w,x,A,_],P={NO_HINT:"NO_HINT",PATIENT:"PATIENT_HINT",CLICK:"CLICK_HINT",ID:"ID_HINT"},S=[P.NO_HINT,P.PATIENT,P.CLICK,P.ID],R="555555-555",D=n(15),M=n.n(D),K=n(33),F=n(22),U=n(34),B=n(35);function V(e,t){return t?t.find(function(t){return t.resourceType===e}):null}function W(e){return[O,"".concat(e.resourceType,"/").concat(e.id)]}function z(e,t){return function(e){return e&&M()(e.reason,K.reason)}(e)&&function(e){var t=V(g.Patient,e);return t&&M()(t.name,F.name)&&M()(t.address,F.address)}(t)&&function(e){var t=V(g.Practitioner,e);return t&&M()(t.name,B.name)}(t)&&function(e){var t=V(g.Location,e);return t&&t.name===U.name}(t)}var J=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={id:""},n.handleSubmit=function(e){e.preventDefault();var t=n.props,a=t.isLoading,r=t.onCheckIn;a||r(n.state.id)},n.handleIdChange=function(e){n.setState({id:e.target.value})},n.handleHintLevelChange=function(e,t){var a=n.props.onHintLevelChange;t[P.ID]&&n.setState({id:R}),a(e,t)},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"isHintAvailable",value:function(e){return this.props.hints[e]}},{key:"renderCard",value:function(){var e=this.state.id,t=this.props.isLoading;return r.a.createElement(y,{title:r.a.createElement("span",null,"Check-in"),infoText:r.a.createElement("span",null,"Please type in your identifier")},this.renderHint(),r.a.createElement(b.e,{onSubmit:this.handleSubmit},r.a.createElement(b.f,null,r.a.createElement(b.g,{bsSize:"lg",value:e,onChange:this.handleIdChange,className:"text-center",disabled:t}),r.a.createElement("button",{className:"btn btn-primary btn-lg mt-1 btn-block",type:"submit",disabled:!e||t},t?r.a.createElement(E.a,{icon:C.a,spin:!0}):"Check in"))))}},{key:"renderHint",value:function(){var e,t=(e="Santa",[O,"".concat(g.Patient,"?name=").concat(e)]),n=Object(v.a)(t,2),a=n[0],i=n[1],l=this.isHintAvailable(P.CLICK)?"Click me!":i;return r.a.createElement("div",{className:"mb-1"},r.a.createElement(N,{isVisible:this.isHintAvailable(P.PATIENT),primaryText:l,baseUrl:a,urlSuffix:i}))}},{key:"render",value:function(){var e=this.props.hintLevel;return r.a.createElement("div",{className:"check-in"},r.a.createElement("div",{className:"my-4"},r.a.createElement("div",{className:"alert alert-info"},r.a.createElement("strong",null,"Santa Claus is ill!")," Please help Santa to check-in for an appointment. You will need"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.hl7.org/fhir/patient.html#search"},r.a.createElement("strong",null,"FHIR Patient search"))," ","and"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://hapi.fhir.org/resource?serverId=home_21&pretty=false&resource=Patient"},r.a.createElement("strong",null,"FHIR test server")),".")),r.a.createElement(k,{hintLevel:e,hintTypes:S,onHintLevelChange:this.handleHintLevelChange}),this.renderCard())}}]),t}(a.Component),Y=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.onClose;return r.a.createElement("div",null,r.a.createElement("div",{className:"my-4"},r.a.createElement("div",{className:"alert alert-primary"},r.a.createElement("strong",null,"Only Santa Claus can be checked in!")," But what is his identifier?")),r.a.createElement(y,{title:r.a.createElement("span",null,"Appointment was not found"),infoText:r.a.createElement("span",null,"Please contact the reception."),actionButtonText:"Close",onAction:e}))}}]),t}(a.Component),G=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"isHintAvailable",value:function(e){return this.props.hints[e]}},{key:"getParticipantDisplay",value:function(e,t){return this.isHintAvailable(t)?function(e){var t=e.name;return t&&0!==t.length?Array.isArray(t)?(t.find(function(e){return"official"===e.use})||t[0]).text||function(e){var t=e.prefix?e.prefix+" ":"",n=e.given?e.given.join(" "):"",a=e.family||"",r=e.suffix?" "+e.suffix:"";return"".concat(t).concat(n).concat(a).concat(r,";")}(t):t:""}(e):"******"}},{key:"renderReason",value:function(){var e=this.props.appointment;if(!e||!e.reason||0===e.reason.length)return null;var t=e.reason[0].text,n=void 0===t?"":t,a=this.isHintAvailable(_),i=a?n:"******";return r.a.createElement("tr",{className:""},r.a.createElement("td",null,"Reason"),r.a.createElement("td",null,i),r.a.createElement("td",null))}},{key:"renderParticipant",value:function(e,t,n,a,i){var l=V(e,n);if(!l)return null;var c=W(l),o=Object(v.a)(c,2),s=o[0],u=o[1];return r.a.createElement("tr",{className:""},r.a.createElement("td",null,t),r.a.createElement("td",null,this.getParticipantDisplay(l,a)),r.a.createElement("td",null,r.a.createElement(N,{isVisible:this.isHintAvailable(i),baseUrl:s,urlSuffix:u})))}},{key:"renderPatient",value:function(){var e=this.props.participant;return this.renderParticipant(g.Patient,"Customer",e,A,x)}},{key:"renderPractitioner",value:function(){var e=this.props.participant;return this.renderParticipant(g.Practitioner,"Practitioner",e,w,j)}},{key:"renderLocation",value:function(){var e=this.props,t=e.participant,n=e.onShowDirections,a=V(g.Location,t);if(!a)return null;var i=this.isHintAvailable(T),l=this.isHintAvailable(I),c=W(a),o=Object(v.a)(c,2),s=o[0],u=o[1],p=i?"visible":"invisible";return r.a.createElement("tr",{className:""},r.a.createElement("td",null,"Location"),r.a.createElement("td",null,this.getParticipantDisplay(a,T),r.a.createElement("br",null),r.a.createElement(b.a,{className:p,size:"sm",color:"info",onClick:n},"Map")),r.a.createElement("td",null,r.a.createElement(N,{isVisible:l,baseUrl:s,urlSuffix:u})))}},{key:"renderTime",value:function(e){return e&&e.start?r.a.createElement("tr",null,r.a.createElement("td",null,"Time"),r.a.createElement("td",null,e.start.toLocaleString()),r.a.createElement("td",null)):null}},{key:"renderAppointmentHint",value:function(){var e=this.props,t=e.appointment,n=e.participant;if(!t)return null;var a=V(g.Patient,n);if(!a)return null;var i=function(e){return[O,"".concat(g.Appointment,"?patient=").concat(e.id)]}(a),l=Object(v.a)(i,2),c=l[0],o=l[1];return r.a.createElement("div",{className:"mb-1"},r.a.createElement(N,{isVisible:this.isHintAvailable(H),baseUrl:c,urlSuffix:o}))}},{key:"renderInfoAlert",value:function(){return r.a.createElement("div",{className:"my-4"},r.a.createElement("div",{className:"alert alert-info"},r.a.createElement("strong",null,"Can you find out some details of the appointment?")," Why Santa Claus is ill? What is the location? Who is the practitioner? What is the official name of Santa Claus? You will need"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.hl7.org/fhir/appointment.html#search"},r.a.createElement("strong",null,"FHIR Appointment search"))," ","and"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://hapi.fhir.org/resource?serverId=home_21&pretty=false&resource=Appointment"},r.a.createElement("strong",null,"FHIR test server")),"."))}},{key:"renderSuccessAlert",value:function(){return r.a.createElement("div",{className:"my-4"},r.a.createElement("div",{className:"alert alert-success"},r.a.createElement("strong",null,"All is clear now!")))}},{key:"isMaxHintLevel",value:function(){return this.props.hintLevel>=L.length-1}},{key:"renderAlert",value:function(){return this.isMaxHintLevel()?this.renderSuccessAlert():this.renderInfoAlert()}},{key:"render",value:function(){var e=this.props,t=e.hintLevel,n=e.onClose,a=e.onHintLevelChange,i=this.isMaxHintLevel()?"Close":null;return r.a.createElement("div",{className:"appointment-guide"},this.renderAlert(),r.a.createElement(k,{hintLevel:t,hintTypes:L,onHintLevelChange:a}),r.a.createElement(y,{title:r.a.createElement("span",null,"Appointment"),actionButtonText:i,onAction:n},this.renderAppointmentHint(),r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table text-left"},r.a.createElement("tbody",null,this.renderReason(),this.renderPatient(),this.renderTime(),this.renderPractitioner(),this.renderLocation())))))}}]),t}(a.Component),X=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.center,t=[e[0]-200,e[1]-200],n="translate(".concat(t[0]," ").concat(t[1],")");return r.a.createElement("path",{transform:n,strokeWidth:"2",fill:"none",stroke:"#007bff",d:"M200 200 S 200.5 200 200.9 200.1 201.3 200.3 201.8 200.5 202.1 200.8 202.5 201.1 202.8 201.5 203.1 202 203.3 202.5 203.4 203 203.5 203.6 203.6 204.2 203.5 204.8 203.4 205.4 203.2 206 203 206.7 202.7 207.3 202.3 207.9 201.8 208.5 201.2 209.1 200.6 209.6 199.9 210.1 199.2 210.5 198.3 210.8 197.5 211.1 196.5 211.4 195.6 211.5 194.6 211.6 193.5 211.6 192.4 211.4 191.4 211.2 190.3 210.9 189.2 210.5 188.1 210 187.1 209.4 186 208.7 185 207.9 184.1 207 183.2 206 182.4 204.9 181.6 203.7 181 202.4 180.4 201.1 179.9 199.6 179.5 198.2 179.2 196.6 179.1 195 179.1 193.4 179.2 191.8 179.4 190.1 179.8 188.4 180.3 186.7 180.9 185.1 181.7 183.4 182.6 181.8 183.7 180.3 184.9 178.8 186.2 177.4 187.6 176 189.2 174.8 190.9 173.6 192.7 172.6 194.6 171.7 196.6 170.9 198.7 170.3 200.8 169.8 203 169.5 205.3 169.4 207.6 169.4 209.9 169.6 212.2 169.9 214.5 170.5 216.9 171.2 219.1 172.1 221.4 173.2 223.6 174.5 225.7 175.9 227.7 177.5 229.6 179.3 231.4 181.2 233.1 183.3 234.6 185.6 236 188 237.2 190.5 238.2 193.1 239.1 195.8 239.7 198.6 240.2 201.4 240.4 204.4 240.5 207.3 240.3 210.3 239.9 213.4 239.2 216.4 238.4 219.3 237.3 222.3 236 225.2 234.4 228 232.7 230.7 230.7 233.3 228.5 235.7 226.1 238.1 223.6 240.2 220.8 242.2 217.9 244 214.8 245.7 211.6 247 208.3 248.2 204.9 249.1 201.3 249.8 197.7 250.2 194.1 250.4 190.4 250.3 186.7 249.9 183 249.3 179.3 248.3 175.7 247.1 172.2 245.7 168.7 243.9 165.3 241.9 162.1 239.7 159 237.1 156.1 234.4 153.4 231.4 150.8 228.2 148.5 224.8 146.4 221.2 144.6 217.4 143.1 213.5 141.8 209.5 140.8 205.3 140.1 201.1 139.7 196.8 139.7 192.4 139.9 188 140.5 183.6 141.4 179.2 142.6 174.9 144.2 170.6 146 166.4 148.2 162.4 150.7 158.5 153.5 154.7 156.5 151.2 159.9 147.8 163.5 144.7 167.3 141.8 171.4 139.2 175.7 136.9 180.1 134.9 184.7 133.1 189.5 131.8 194.4 130.7 199.4 130.1 204.4 129.7 209.5 129.8 214.6 130.2 219.7 131 224.8 132.2 229.8 133.7 234.7 135.6 239.4 137.9 244.1 140.5 248.5 143.4 252.8 146.7 256.8 150.4 260.6 154.3 264.1 158.5 267.3 163 270.2 167.7 272.8 172.7 275 177.9 276.8 183.2 278.3 188.7 279.3 194.3 280 200 280.2 205.8 280.1 211.6 279.5 217.4 278.5 223.2 277 228.9 275.2 234.6 272.9 240.1 270.2 245.5 267.2 250.7 263.7 255.6 259.9 260.4 255.7 264.9 251.1 269.1 246.3 272.9 241.2 276.5 235.8 279.7 230.1 282.4 224.2 284.8 218.2 286.8 212 288.3 205.6 289.4 199.2 290.1 192.7 290.2 186.2 289.9 179.7 289.1 173.2 287.9 166.8 286.2 160.5 284 154.3 281.3 148.4 278.2 142.6 274.7 137.1 270.7 131.9 266.3 126.9 261.6 122.3 256.4 118.1 251 114.2 245.2 110.8 239.1 107.8 232.7 105.3 226.1 103.2 219.4 101.6 212.4 100.5 205.4 99.9 198.2 99.8 191 100.3 183.7 101.3 176.5 102.8 169.4 104.8 162.3 107.3 155.4 110.4 148.6 113.9 142.1 117.9 135.7 122.4 129.7 127.3 124 132.7 118.6 138.4 113.6 144.6 109.1 151 104.9 157.8 101.2 164.8 98 172.1 95.3 179.6 93.1 187.3 91.5 195.1 90.4 203 89.9 210.9 89.9 218.9 90.5 226.8 91.7 234.6 93.5 242.3 95.8 249.9 98.7 257.3 102.2 264.4 106.1 271.3 110.6 277.8 115.7 284 121.1 289.8 127.1 295.1 133.4 300.1 140.2 304.5 147.3 308.4 154.8 311.8 162.5 314.7 170.6 316.9 178.8 318.6 187.2 319.7 195.7 320.2 204.3 320 213 319.2 221.6 317.8 230.2 315.7 238.8 313.1 247.1 309.8 255.3 306 263.3 301.5 271 296.5 278.4 291 285.4 284.9 292.1 278.4 298.3 271.4 304 264 309.3 256.2 314 248 318.2 239.6 321.7 230.8 324.7 221.9 327 212.8 328.7 203.5 329.8 194.2 330.2 184.8 329.9 175.4 328.9 166.1 327.2 156.9 324.9 147.9 321.9 139.1 318.3 130.5 314 122.2 309.1 114.3 303.6 106.8 297.5 99.7 290.8 93.1 283.7 87 276.1 81.4 268 76.4 259.5 72.1 250.7 68.3 241.5 65.2 232 62.8 222.4 61.1 212.5 60.1 202.5 59.9 192.4 60.3 182.4 61.5 172.3 63.4 162.3 66 152.4 69.4 142.8 73.4 133.3 78.1 124.2 83.5 115.4 89.5 106.9 96.2 98.9 103.4 91.4 111.1 84.4 119.4 77.9 128.2 72 137.3 66.8 146.9 62.2 156.8 58.3 166.9 55.2 177.3 52.7 187.9 51 198.7 50.1 209.4 49.9 220.3 50.5 231 51.9 241.7 54.1 252.2 57 262.5 60.7 272.6 65.1 282.3 70.3 291.7 76.2 300.6 82.7 309.1 89.9 317 97.7 324.4 106.1 331.2 115 337.4 124.5 342.9 134.3 347.7 144.6 351.7 155.2 355 166.1 357.4 177.2 359.1 188.6 359.1 188.6"})}}]),t}(a.Component),$=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.infoText,a=e.config,i=e.onBack,l=a.canvas,c=l.width,o=l.height,s=[.5*c,.5*o];return r.a.createElement("div",{className:"guide"},r.a.createElement(y,{title:t,infoText:n,actionButtonText:"Back",onAction:i},r.a.createElement("svg",{viewBox:"0 0 ".concat(c," ").concat(o)},r.a.createElement(X,{center:s}))))}}]),t}(a.Component),q=n(36),Q={CHECK_IN:"CHECK_IN",APPOINTMENT_NOT_FOUND:"APPOINTMENT_NOT_FOUND",CHECKED_IN:"CHECKED_IN",CHECKED_IN_MAP:"CHECKED_IN_MAP"},Z=function(e){function t(){var e,n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(m.a)(t).call(this))).handleCheckIn=function(e){(0,n.props.onCheckIn)(e)},n.handleClose=function(){(0,n.props.onClose)()},n.renderCheckIn=function(){var e=n.props,t=e.hintLevel,a=e.hints,i=e.isLoading,l=e.onHintLevelChange;return r.a.createElement(J,{isLoading:i,hintLevel:t,hints:a,onCheckIn:n.handleCheckIn,onHintLevelChange:l})},n.renderAppointmentNotFound=function(){return r.a.createElement(Y,{onClose:n.handleClose})},n.renderAppointment=function(){var e=n.props,t=e.hintLevel,a=e.hints,i=e.appointment,l=e.participant,c=e.onShowMap,o=e.onHintLevelChange;return r.a.createElement(G,{appointment:i,participant:l,hintLevel:t,hints:a,onClose:n.handleClose,onShowDirections:c,onHintLevelChange:o})},n.renderMap=function(){var e=n.props.onCloseMap;return r.a.createElement("div",null,r.a.createElement("div",{className:"my-4"},r.a.createElement("div",{className:"alert alert-info"},"Did you know that Santa Claus' original home lies in the mysterious Korvatunturi, in Finland? The exact location is a secret only known to a chosen few.")),r.a.createElement($,{title:r.a.createElement("span",null,"Location"),config:q,onBack:e}))},n.STATUS_TO_RENDERER=(e={},Object(d.a)(e,Q.CHECK_IN,n.renderCheckIn),Object(d.a)(e,Q.APPOINTMENT_NOT_FOUND,n.renderAppointmentNotFound),Object(d.a)(e,Q.CHECKED_IN,n.renderAppointment),Object(d.a)(e,Q.CHECKED_IN_MAP,n.renderMap),e),n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"renderComponent",value:function(){var e=this.props.status,t=this.STATUS_TO_RENDERER[e];if(!t)throw new Error("Invalid status ".concat(e));return t()}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderComponent())}}]),t}(a.Component),ee=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-dark bg-primary"},r.a.createElement("div",{className:"navbar-header"},r.a.createElement("a",{className:"navbar-brand",href:"https://akalliokoski.github.io/christmas-on-fhir"},"Christmas on FHIR"),r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",role:"button",href:"http://hapi.fhir.org/",className:"btn btn-secondary"},"Use FHIR")),r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",target:"_blank",rel:"noopener noreferrer",href:"https://github.com/akalliokoski/christmas-on-fhir"},"GitHub"))))}}]),t}(a.Component),te=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{className:"mastfoot mt-auto"},r.a.createElement("div",{className:"inner pt-2 pb-1"},r.a.createElement("div",null,"Made by"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.linkedin.com/in/akalliokoski/"},"akalliokoski")),r.a.createElement("div",null,"Sponsored by"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.codeo.fi"},"Codeo")),r.a.createElement("div",null,"Powered by"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.hl7.org/fhir/"},"FHIR"),r.a.createElement("span",null," and "),r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://hapi.fhir.org/"},"HAPI-FHIR Test Server"))))}}]),t}(a.Component),ne=n(23),ae=n.n(ne);function re(e){return ie.apply(this,arguments)}function ie(){return(ie=Object(s.a)(o.a.mark(function e(t){var n,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.a.get(t).catch(function(e){return console.log("Failed to find resource ".concat(t)),null});case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return a=n.data.entry||[],e.abrupt("return",1===a.length?a[0].resource:null);case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function le(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(s.a)(o.a.mark(function e(t){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(O,"/").concat(g.Patient,"?identifier=").concat(t),e.abrupt("return",re(n));case 2:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function oe(e){return se.apply(this,arguments)}function se(){return(se=Object(s.a)(o.a.mark(function e(t){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(O,"/").concat(g.Appointment,"?patient=").concat(t),e.abrupt("return",re(n));case 2:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function ue(e){return pe.apply(this,arguments)}function pe(){return(pe=Object(s.a)(o.a.mark(function e(t){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le(t);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,oe(n.id);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function he(e){return me.apply(this,arguments)}function me(){return(me=Object(s.a)(o.a.mark(function e(t){var n,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(O,"/").concat(t),e.next=3,ae.a.get(n).catch(function(e){return console.log("Failed to get reference ".concat(n)),null});case 3:return a=e.sent,e.abrupt("return",a?a.data:null);case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function fe(e){return de.apply(this,arguments)}function de(){return(de=Object(s.a)(o.a.mark(function e(t){var n,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",[]);case 2:return n=t.participant,a=void 0===n?[]:n,e.abrupt("return",Promise.all(a.map(function(e){return he(e.actor.reference)})));case 4:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var ve={status:Q.CHECK_IN,hintLevel:0,hints:{},isLoading:!1,appointment:null,participant:[],areResourcesValid:!0},be=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state=ve,n.handleCheckIn=function(){var e=Object(s.a)(o.a.mark(function e(t){var a,r,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.setState({isLoading:!0}),t!==R){e.next=7;break}return e.next=4,ue(t);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=null;case 8:return a=e.t0,e.next=11,fe(a);case 11:r=e.sent,i=a?Q.CHECKED_IN:Q.APPOINTMENT_NOT_FOUND,n.setState({status:i,hintLevel:i===Q.CHECKED_IN?0:n.state.hintLevel,hints:i===Q.CHECKED_IN?{}:n.state.hints,appointment:a,participant:r,isLoading:!1});case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.handleShowMap=function(){n.setState({status:Q.CHECKED_IN_MAP})},n.handleCloseMap=function(){n.setState({status:Q.CHECKED_IN})},n.handleHintLevelChange=function(e,t){n.setState({hintLevel:e,hints:t})},n.handleClose=function(){var e=n.state,t=e.status,a=e.areResourcesValid,r=t===Q.APPOINTMENT_NOT_FOUND?{status:Q.CHECK_IN,isLoading:!1}:ve;r.areResourcesValid=a,n.setState(r)},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(s.a)(o.a.mark(function e(){var t,n,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(R);case 2:return t=e.sent,e.next=5,fe(t);case 5:n=e.sent,a=z(t,n),this.setState({areResourcesValid:a});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"renderInvalidResourcesAlert",value:function(){return this.state.areResourcesValid?null:r.a.createElement("div",{className:"alert alert-warning show mt-4",role:"alert"},r.a.createElement("strong",null,"Test resources on FHIR test server have removed or modified!")," ","You can play around with the app but it will no longer work as expected.")}},{key:"render",value:function(){return r.a.createElement("div",{className:"App cover-container d-flex w-100 h-100 p-3 mx-auto flex-column"},r.a.createElement(ee,null),r.a.createElement("div",{className:"cover"},this.renderInvalidResourcesAlert(),r.a.createElement(Z,Object.assign({className:"lead"},this.state,{onCheckIn:this.handleCheckIn,onClose:this.handleClose,onShowMap:this.handleShowMap,onCloseMap:this.handleCloseMap,onHintLevelChange:this.handleHintLevelChange}))),r.a.createElement(te,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(65),n(67),n(70);l.a.render(r.a.createElement(be,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[37,2,1]]]);
//# sourceMappingURL=main.85e449a8.chunk.js.map